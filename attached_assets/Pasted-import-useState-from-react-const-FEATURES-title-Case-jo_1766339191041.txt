import { useState } from "react";

const FEATURES = [
  {
    title: "Case journey",
    desc:
      "Family court cases often follow predictable stages. Civilla shows a plain-language overview of what typically happens at each step so you can understand what to expect.",
  },
  {
    title: "Evidence timeline",
    desc:
      "Build a dated timeline using your notes, uploads, and events. Keep everything organized in one place and export it for your own records.",
  },
  {
    title: "Pattern analysis",
    desc:
      "See patterns in the information you enter (themes, frequency, dates, categories) to help you stay organized and spot what you may want to document.",
  },
  {
    title: "Research assistant",
    desc:
      "Ask Lexi questions and explore educational, plain-language explanations. Lexi helps you research and understand information — but it doesn’t give legal advice.",
  },
  {
    title: "Document builder",
    desc:
      "Create educational drafts from your inputs and templates. You stay in control: review, edit, and decide what (if anything) you use.",
  },
];

export function HomeFeatureAccordion() {
  const [openIndex, setOpenIndex] = useState<number | null>(0);

  return (
    <div className="grid gap-6 md:grid-cols-2">
      {/* LEFT: Accordion list */}
      <div className="rounded-2xl border border-white/30 bg-white/5 p-4">
        <div className="flex flex-col">
          {FEATURES.map((item, idx) => {
            const isOpen = openIndex === idx;
            return (
              <div key={item.title} className="border-b border-white/20 last:border-b-0">
                <button
                  type="button"
                  className="w-full py-5 text-left text-2xl font-semibold tracking-tight text-white flex items-center justify-between"
                  aria-expanded={isOpen}
                  aria-controls={`feature-panel-${idx}`}
                  onClick={() => setOpenIndex(isOpen ? null : idx)}
                >
                  <span>{item.title}</span>
                  <span className="text-white/70 text-xl">{isOpen ? "–" : "+"}</span>
                </button>

                <div
                  id={`feature-panel-${idx}`}
                  className={`${isOpen ? "pb-5" : "h-0 overflow-hidden"} transition-all`}
                >
                  {isOpen && (
                    <p className="text-white/85 leading-relaxed">
                      {item.desc}
                    </p>
                  )}
                </div>
              </div>
            );
          })}
        </div>
      </div>

      {/* RIGHT: Copy card */}
      <div className="rounded-2xl border border-white/30 bg-white/5 p-6">
        <div className="mb-4 text-white/80">◻︎</div>
        <h3 className="text-5xl font-semibold leading-tight text-white">
          Track what matters in your case
        </h3>
        <p className="mt-4 text-white/85 leading-relaxed">
          Family court can feel chaotic. Civilla helps you organize your timeline, documents, and notes —
          and understand the typical process — so you can prepare with clarity.
        </p>

        <p className="mt-6 text-sm text-white/70">
          Educational, research, and organizational support — not legal advice or representation.
        </p>
      </div>
    </div>
  );
}