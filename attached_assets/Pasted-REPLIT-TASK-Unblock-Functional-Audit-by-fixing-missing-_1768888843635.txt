REPLIT TASK: Unblock Functional Audit by fixing missing DB columns + QA paywall bypass (additive migrations)

Context
Functional audit fails due to:
1) POST /api/cases => HTTP 402 paywall because QA user has casesAllowed=0 (not a bug, blocks audit)
2) Lexi chat => HTTP 500 due to missing DB column lexi_user_preferences.streaming_enabled
3) Activity logs / analytics => HTTP 500 due to missing DB column activity_logs.module_key
We use additive, idempotent schema migrations in server/db.ts (ensureSchemaMigrations). Implement the fixes there so they can’t regress.

A) Add missing columns via ensure* migrations (NO manual SQL required)
1) In shared/schema.ts
- Confirm these tables/columns exist in schema types:
  - lexi_user_preferences.streaming_enabled BOOLEAN DEFAULT true
  - activity_logs.module_key TEXT (nullable or default 'unknown')
  If the tables/columns are not in the Drizzle schema, add them.

2) In server/db.ts
- Add ensureLexiUserPreferencesColumns() that runs every startup and guarantees:
  - streaming_enabled exists on lexi_user_preferences with DEFAULT true
  - Also add any other prefs columns introduced recently (fast_mode, response_style, verbosity, etc.) if they aren’t already guaranteed.
- Add ensureActivityLogsColumns() that runs every startup and guarantees:
  - module_key exists on activity_logs
  - Also ensure indexes needed by listActivityLogs queries exist (user_id, created_at).
- Register both functions inside ensureSchemaMigrations() so they always run.
- Add verification logs like:
  [DB MIGRATION] Verification: lexi_user_preferences.streaming_enabled present: true/false
  [DB MIGRATION] Verification: activity_logs.module_key present: true/false

Acceptance for A:
- App starts with no 500s
- Lexi chat no longer throws “missing column” errors
- Activity logs endpoints stop 500ing for missing column

B) QA paywall bypass so audits can create a case
We only need this for test automation; do not weaken production paywalls.

Implement ONE of these (choose the safest):
Option 1 (preferred): Add a known QA email allowlist in server/entitlements.ts similar to LIFETIME_PREMIUM_EMAILS:
- Add qa.test@civilla.ai to the comped/lifetime bypass list (bypass paywalls + quotas)
Option 2: Add a dev-only helper that runs on startup ONLY when NODE_ENV !== "production":
- If user_profiles.email == qa.test@civilla.ai then set casesAllowed=1 and subscriptionTier='core' (or comped)
Do NOT create any UI for this. This is purely for automated audit runs.

Acceptance for B:
- Functional audit case creation passes (200/201), not 402.

C) Rerun and update the functional audit so it doesn’t stop early
1) Run: npx tsx script/fullFunctionalAudit.ts
2) Confirm it proceeds past “Case Creation” and reaches the pipeline steps.
3) Update AUDIT_FUNCTIONAL_REPORT.md with the new results.

Deliverables to report back:
- Files changed list
- Confirmation the two DB columns now exist via migrations (not manual SQL)
- Confirmation qa.test@civilla.ai can create a case for audits
- New functional audit summary table (PASS/FAIL per step)